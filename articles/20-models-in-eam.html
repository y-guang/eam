<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Models in eam • eam</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Models in eam">
<style>
// ugly hack to hide all the auto-generated figure captions
.figcaption {
  display: none !important;
}
</style>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eam</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/00-framework-overview.html">Overview of the EAM Framework</a></li>
    <li><a class="dropdown-item" href="../articles/10-minimal-working-example.html">Getting Started: A Minimal Working Example</a></li>
    <li><a class="dropdown-item" href="../articles/20-models-in-eam.html">Models in eam</a></li>
    <li><a class="dropdown-item" href="../articles/30-empirical-example.html">An Empirical Example: Simulation-Based Inference for Free Recall</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer Guide</h6></li>
    <li><a class="dropdown-item" href="../articles/developer-guide.html">Developer Guide</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Chinese Translation</h6></li>
    <li><a class="dropdown-item" href="../articles/about-zh-translation.html">About Chinese Translation</a></li>
    <li><a class="dropdown-item" href="../articles/developer-guide.zh.html">开发人员引导</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/y-guang/eam/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Models in eam</h1>
                        <h4 data-toc-skip class="author">Guangyu
Zhu</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/y-guang/eam/blob/main/vignettes/20-models-in-eam.Rmd" class="external-link"><code>vignettes/20-models-in-eam.Rmd</code></a></small>
      <div class="d-none name"><code>20-models-in-eam.Rmd</code></div>
    </div>

    
    
<p>This section introduces the setting for five representative models:
Diffusion decision model (DDM; Ratcliff, 1978), Leaky Competing
Accumulator (LCA; Usher &amp; McClelland, 2001), Linear Ballistic
Accumulator (LBA; Brown &amp; Heathcote, 2008), Racing Diffusion Model
(RDM; Tillman et al., 2020), Lévy Flight Model (LFM; Wieschen et al.,
2020). Meanwhile, we also provide a tutorial on how to extend them to
multi-response variants or interget covariates into the simualtion and
inference.</p>
<p>In practice, when fitting these models to real data, the
simulation-and-summary pipeline shown below can be combined directly
with the Section 1 workflow (i.e., replacing the toy observed dataset
with empirical data, computing the same summary statistics, and then
running ABC/ABI for posterior inference and diagnostics).</p>
<div class="section level2">
<h2 id="diffusion-decision-model">Diffusion decision model<a class="anchor" aria-label="anchor" href="#diffusion-decision-model"></a>
</h2>
<p>The diffusion decision model (DDM) is is a double-boundary
single-accumulator EAM with Gaussian noise. The moment-to-moment change
in accumulated evidence
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math>
is expressed as:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>v</mi><mo>⋅</mo><mi>d</mi><mi>t</mi><mo>+</mo><mi>ω</mi><mo>⋅</mo><mi>d</mi><msub><mi>W</mi><mi>t</mi></msub><mo>,</mo></mrow><annotation encoding="application/x-tex">
dx(t) = v \cdot dt + \omega \cdot dW_t,
</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mi>W</mi><mi>t</mi></msub><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mspace width="0.167em"></mspace><mi>d</mi><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
dW_t \sim N(0,\, dt),
</annotation></semantics></math> where the diffusion noise term
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mi>W</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">dW_t</annotation></semantics></math>
at each time step is drawn from a Gaussian distribution with mean 0 and
variance
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">dt</annotation></semantics></math>.
The diffusion scaling parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>
is typically fixed at 1. The starting point
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>z</mi><annotation encoding="application/x-tex">z</annotation></semantics></math>
in the DDM is often expressed as a proportion of the decision boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>=</mo><mi>ρ</mi><mo>⋅</mo><mi>a</mi><mo>,</mo><mspace width="2.0em"></mspace><mi>ρ</mi><mo>∈</mo><mrow><mo stretchy="true" form="prefix">[</mo><mn>0</mn><mo>,</mo><mspace width="0.167em"></mspace><mn>1</mn><mo stretchy="true" form="postfix">]</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
z = \rho \cdot a, \qquad \rho \in [0,\, 1],
</annotation></semantics></math> where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ρ</mi><annotation encoding="application/x-tex">\rho</annotation></semantics></math>
denotes relative bias toward the upper boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>.
A larger
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ρ</mi><annotation encoding="application/x-tex">\rho</annotation></semantics></math>
places the starting point closer to the upper boundary, making it easier
and faster for the process to reach it, increasing the probability of a
correct response.</p>
<p>The free parameters of the model thus include the drift rate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>,
the decision boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
the starting point
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>z</mi><annotation encoding="application/x-tex">z</annotation></semantics></math>
(or relative bias
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ρ</mi><annotation encoding="application/x-tex">\rho</annotation></semantics></math>),
and the non-decision time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math>.</p>
<p>Beyond these core parameters, the DDM also incorporates three sources
of between-trial variability: variability in drift rate
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mi>v</mi></msub><annotation encoding="application/x-tex">s_v</annotation></semantics></math>),
starting point
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mi>z</mi></msub><annotation encoding="application/x-tex">s_z</annotation></semantics></math>),
and non-decision time
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mrow><mi>t</mi><mn>0</mn></mrow></msub><annotation encoding="application/x-tex">s_{t0}</annotation></semantics></math>).
These components are optional, yet including them enables the model to
better capture empirical RT distributions, explain “fast errors”, and
separate within-trial noise from between-trial variability.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span><span class="fl">1</span></span>
<span></span>
<span><span class="va">prior_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">S_V</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">S_ndt</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  <span class="va">S_Z</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components (optional)</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Between trial variability in drift rate</span></span>
<span>  <span class="va">V_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">S_V</span><span class="op">)</span>,</span>
<span>  <span class="co"># Between trial variability in non-decision time</span></span>
<span>  <span class="va">ndt_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="va">S_ndt</span>, <span class="va">S_ndt</span><span class="op">)</span>,</span>
<span>  <span class="co"># Between trial variability in starting point</span></span>
<span>  <span class="va">Z_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="va">S_Z</span>, <span class="va">S_Z</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_0</span> <span class="op">+</span> <span class="va">Z_var</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_upper</span> <span class="op">~</span> <span class="va">A_0</span>, <span class="co"># upper </span></span>
<span>  <span class="va">A_lower</span> <span class="op">~</span> <span class="op">-</span><span class="va">A_0</span>, <span class="co"># lower</span></span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="va">V_0</span> <span class="op">+</span> <span class="va">V_var</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt</span> <span class="op">~</span> <span class="va">ndt_0</span> <span class="op">+</span> <span class="va">ndt_var</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm-2b"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">choice</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"choice"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="leaky-competing-accumulator">Leaky competing accumulator<a class="anchor" aria-label="anchor" href="#leaky-competing-accumulator"></a>
</h2>
<p>The leaky competing accumulator model is a single-boundary,
multi-accumulator evidence-accumulation model with Gaussian noise.
Beyond stochastic fluctuations, the evolution of evidence in each
accumulator is shaped by a leakage term
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k x_i</annotation></semantics></math>
and a lateral inhibition term
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><msub><mo>∑</mo><mrow><mi>j</mi><mo>≠</mo><mi>i</mi></mrow></msub><msub><mi>x</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\beta \sum_{j \neq i} x_j</annotation></semantics></math>:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mi>x</mi><mi>i</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo>−</mo><mi>k</mi><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mi>β</mi><munder><mo>∑</mo><mrow><mi>j</mi><mo>≠</mo><mi>i</mi></mrow></munder><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>⋅</mo><mi>d</mi><mi>t</mi><mo>+</mo><mi>s</mi><mo>⋅</mo><mi>d</mi><msub><mi>W</mi><mi>t</mi></msub><mo>,</mo></mrow><annotation encoding="application/x-tex">
dx_i(t) = \left(v_i - k x_i - \beta \sum_{j \neq i} x_j\right)\cdot dt 
          + s\cdot dW_t,
</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mi>W</mi><mi>t</mi></msub><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mspace width="0.167em"></mspace><mi>d</mi><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>.</mi></mrow><annotation encoding="application/x-tex">
dW_t \sim N(0,\, dt).
</annotation></semantics></math></p>
<p>Here,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>
is the leakage parameter that governs the rate at which accumulated
evidence decays over time,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mi>i</mi></msub><annotation encoding="application/x-tex">x_i</annotation></semantics></math>
denotes the accumulated evidence in accumulator
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>β</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
controls the strength of lateral inhibition exerted by competing
accumulators, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mrow><mi>j</mi><mo>≠</mo><mi>i</mi></mrow></msub><msub><mi>x</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{j \neq i} x_j</annotation></semantics></math>
represents the total evidence of all competing alternatives.</p>
<p>The LCA adopts a single decision boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
shared across all accumulators, and a response is triggered when the
first accumulator reaches that boundary. In a two-accumulator system,
the parameters to be estimated usually include the drift rates for each
alternative
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>v</mi><mi>i</mi></msub><annotation encoding="application/x-tex">v_i</annotation></semantics></math>,
the leakage parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>,
the inhibition strength
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>β</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>,
the decision boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and the non-decision time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span><span class="fl">2</span></span>
<span></span>
<span><span class="va">prior_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_acc1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">V_acc2</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Leakage parameter</span></span>
<span>  <span class="va">k</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  <span class="co"># Inhibition strength</span></span>
<span>  <span class="va">beta</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A</span> <span class="op">~</span> <span class="va">A_0</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">V_acc1</span>, <span class="va">V_acc2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"lca"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output_1"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>It is worth noting that, in the case of LCA, LBA and RDM, due to the
presence of two items and an upper boundary only, the choice variable
should be replaced with item_idx, when calculating the accuracy.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">item_idx</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">item_idx</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"item_idx"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="linear-ballistic-accumulator">Linear ballistic accumulator<a class="anchor" aria-label="anchor" href="#linear-ballistic-accumulator"></a>
</h2>
<p>The linear ballistic accumulator model is a single-boundary
multiple-accumulator EAM with non-decision noise. Without stochastic
fluctuations moment to moment, the accumulated evidence evolves as a
straight line with slope equal to the drift rate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>v</mi><mi>i</mi></msub><annotation encoding="application/x-tex">v_i</annotation></semantics></math>,
and the response and RT is determined by the first accumulator to reach
its threshold:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>v</mi><mi>i</mi></msub><mo>⋅</mo><mi>d</mi><mi>t</mi><mi>.</mi></mrow><annotation encoding="application/x-tex">
dx(t) = v_i \cdot dt.
</annotation></semantics></math></p>
<p>To account for between-trial variability in observed response and
RTs, the LBA introduces two additional random components. First, on each
trial, each accumulator begins with a random starting point
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>z</mi><mi>i</mi></msub><annotation encoding="application/x-tex">z_i</annotation></semantics></math>
sampled from a uniform distribution
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mi>Z</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">U(0, Z)</annotation></semantics></math>,
capturing variability in initial bias. Second, on each trial, the drift
rate for each accumulator is drawn from a Gaussian distribution with
mean
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>V</mi><mi>i</mi></msub><annotation encoding="application/x-tex">V_i</annotation></semantics></math>
and variance
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>,
representing the variability in quality of evidence:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>V</mi><mi>i</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mi>τ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>.</mi></mrow><annotation encoding="application/x-tex">
v_i \sim N(V_i,\ \tau).
</annotation></semantics></math></p>
<p>For model identifiability,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>
is typically fixed as a constant, or constraints are imposed on the mean
drift rates (e.g.,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>+</mo><msub><mi>V</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">V_1 + V_2 = 1</annotation></semantics></math>).
The free parameters of the model thus include the mean drift rate for
each accumulator
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>V</mi><mi>i</mi></msub><annotation encoding="application/x-tex">V_i</annotation></semantics></math>,
the decision boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
the upper bound of starting point
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Z</mi><annotation encoding="application/x-tex">Z</annotation></semantics></math>,
and the non-decision time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math>.
This design gives the LBA greater flexibility in capturing error RT
distributions and allows straightforward extension to tasks with more
than two options by simply adding more accumulators.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span><span class="fl">2</span></span>
<span></span>
<span><span class="va">prior_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_mu_acc1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">V_mu_acc2</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Upper limit of starting point</span></span>
<span>  <span class="va">Z_upper</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">V_acc1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">V_mu_acc1</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="fl">1e-5</span><span class="op">)</span>,</span>
<span>  <span class="va">V_acc2</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">V_mu_acc2</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="fl">1e-5</span><span class="op">)</span>,</span>
<span>  <span class="va">Z_0</span>   <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">Z_upper</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A</span> <span class="op">~</span> <span class="va">A_0</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">V_acc1</span>, <span class="va">V_acc2</span><span class="op">)</span>,</span>
<span>  <span class="co"># Starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fl">0</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output_1"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">item_idx</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">item_idx</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"item_idx"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="racing-diffusion-model">Racing diffusion model<a class="anchor" aria-label="anchor" href="#racing-diffusion-model"></a>
</h2>
<p>The racing diffusion model is a single-boundary, multiple-accumulator
EAM with Gaussian noise. The moment-to-moment change in accumulated
evidence,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math>,
follows the same stochastic updating rule as in the DDM; the key
difference lies in how incorrect responses are determined, namely by
allowing multiple accumulators to ``race’’ toward the upper decision
boundary, with the first to cross it dictating the response and RT.</p>
<p>Due to concerns about parameter recovery, the RDM avoids estimating
between-trial variability in drift rates
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mi>v</mi></msub><annotation encoding="application/x-tex">s_v</annotation></semantics></math>)
while still allowing starting points
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mi>z</mi></msub><annotation encoding="application/x-tex">s_z</annotation></semantics></math>)
to vary across trials to improve the fit to empirical RT
distributions.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span><span class="fl">2</span></span>
<span></span>
<span><span class="va">prior_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_acc1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">V_acc2</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z_upper</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components (optional)</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Between trial variability in starting point</span></span>
<span>  <span class="va">Z_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">Z_upper</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_var</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A</span> <span class="op">~</span> <span class="va">A_0</span>, <span class="co"># upper </span></span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">V_acc1</span>, <span class="va">V_acc2</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt</span> <span class="op">~</span> <span class="va">ndt_0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">item_idx</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">item_idx</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"item_idx"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="lévy-flight-model">Lévy flight model<a class="anchor" aria-label="anchor" href="#l%C3%A9vy-flight-model"></a>
</h2>
<p>The Lévy flight model (LFM) extends the traditional DDM in a
different direction by replacing the Gaussian diffusion noise with a
Lévy
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>-stable
distribution, allowing occasional large evidence jumps to capture
heavy-tailed RT distributions. It is a double-boundary
single-accumulator EAM with Lévy
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>-stable
noise. The moment-to-moment change in accumulated evidence
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math>
thus follows the rules:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>v</mi><mo>⋅</mo><mi>d</mi><mi>t</mi><mo>+</mo><mi>s</mi><mo>⋅</mo><mi>d</mi><msub><mi>L</mi><mi>α</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
dx(t) = v \cdot dt + s \cdot dL_{\alpha}(t),
</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mi>L</mi><mi>α</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>∼</mo><msub><mi>S</mi><mi>α</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>γ</mi><mo>,</mo><mspace width="0.222em"></mspace><mi>ε</mi><mo>,</mo><mspace width="0.222em"></mspace><mi>μ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
dL_{\alpha}(t) \sim S_{\alpha}(\gamma,\ \varepsilon,\ \mu),
</annotation></semantics></math> where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>α</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><mo>⋅</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">S_{\alpha}(\cdot)</annotation></semantics></math>
denotes a Lévy
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>-stable
distribution parameterized by:</p>
<p>In the LFM, the stability parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>
is free to be estimated from the data, whereas the skewness
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>γ</mi><annotation encoding="application/x-tex">\gamma</annotation></semantics></math>),
scale
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ε</mi><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math>),
and location
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>μ</mi><annotation encoding="application/x-tex">\mu</annotation></semantics></math>)
are fixed. Thus, the free parameters of the LFM include the drift rate
for a single accumulator
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>v</mi><annotation encoding="application/x-tex">v</annotation></semantics></math>,
the decision boundary
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
the starting point
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>z</mi><annotation encoding="application/x-tex">z</annotation></semantics></math>,
the non-decision time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math>,
and the stability parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>.
The LFM allows between-trial variability in drift rates
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mi>v</mi></msub><annotation encoding="application/x-tex">s_v</annotation></semantics></math>),
starting points
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mi>z</mi></msub><annotation encoding="application/x-tex">s_z</annotation></semantics></math>),
and non-decision time
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>s</mi><mrow><mi>t</mi><mn>0</mn></mrow></msub><annotation encoding="application/x-tex">s_{t0}</annotation></semantics></math>).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the package for Lévy alpha-stable distribution</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/stabledist/?root=rmetrics" class="external-link">stabledist</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span><span class="fl">1</span></span>
<span></span>
<span><span class="va">prior_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">S_V</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">S_ndt</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  <span class="va">S_Z</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Stability parameter</span></span>
<span>  <span class="va">alpha</span>    <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components (optional)</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Between trial variability in drift rate</span></span>
<span>  <span class="va">V_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">S_V</span><span class="op">)</span>,</span>
<span>  <span class="co"># Between trial variability in non-decision time</span></span>
<span>  <span class="va">ndt_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="va">S_ndt</span>, <span class="va">S_ndt</span><span class="op">)</span>,</span>
<span>  <span class="co"># Between trial variability in starting point</span></span>
<span>  <span class="va">Z_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="va">S_Z</span>, <span class="va">S_Z</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_0</span> <span class="op">+</span> <span class="va">Z_var</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_upper</span> <span class="op">~</span> <span class="va">A_0</span>, <span class="co"># upper </span></span>
<span>  <span class="va">A_lower</span> <span class="op">~</span> <span class="op">-</span><span class="va">A_0</span>, <span class="co"># lower</span></span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="va">V_0</span> <span class="op">+</span> <span class="va">V_var</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt</span> <span class="op">~</span> <span class="va">ndt_0</span> <span class="op">+</span> <span class="va">ndt_var</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">alpha</span> <span class="op">&lt;-</span> <span class="va">context</span><span class="op">$</span><span class="va">alpha</span></span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">*</span><span class="fu">rstable</span><span class="op">(</span><span class="va">n</span>, alpha <span class="op">=</span> <span class="va">alpha</span>, beta <span class="op">=</span> <span class="fl">0</span>, gamma <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, delta <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm-2b"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">choice</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"choice"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="multi-response-eams">Multi-response EAMs<a class="anchor" aria-label="anchor" href="#multi-response-eams"></a>
</h2>
<p>To simulate a multi-response EAM, we introduced two additional
components: a position-dependent decision boundary function and an
item-dependent drift rate function.</p>
<p>First, the decision boundary was modeled as a linear increasing
function of output position
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>o</mi><annotation encoding="application/x-tex">o</annotation></semantics></math>:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>o</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>a</mi><mn>0</mn></msub><mo>+</mo><msub><mi>a</mi><mn>1</mn></msub><mo>⋅</mo><mi>o</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">
a(o) = a_{0} + a_{1}\cdot o,
</annotation></semantics></math> where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>a</mi><mn>0</mn></msub><annotation encoding="application/x-tex">a_{0}</annotation></semantics></math>
represents the decision boundary for the first-retrieved item and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a_{1} &gt; 0</annotation></semantics></math>
captures the rate at which the boundary increases across retrieval
positions.</p>
<p>As the recall episode progresses, the criterion for terminating
evidence accumulation becomes more stringent. Such an increase may arise
from increased caution in memory retrieval. Importantly, because the
boundary is linked to output position rather than item index, items with
lower drift rates may reach the lower boundary by chance.</p>
<p>Second, drift rates were specified as a linear decreasing function of
item index
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>v</mi><mn>0</mn></msub><mo>+</mo><msub><mi>v</mi><mn>1</mn></msub><mo>⋅</mo><mi>i</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">
v(i) = v_{0} + v_{1}\cdot i,
</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>v</mi><mn>0</mn></msub><annotation encoding="application/x-tex">v_{0}</annotation></semantics></math>
represents the drift rate for the first item and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">v_{1} &lt; 0</annotation></semantics></math>
reflects the decline in evidence strength across positions. This was
intended to capture the reduction in available memory cues or retrieval
strength for later items, a pattern commonly observed in free recall
tasks.</p>
<p>The following example use DDM as a template and extend it to a
multi-response version:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span><span class="fl">3</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">n_items</span> <span class="op">~</span> <span class="fl">3</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">A_1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">V_1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>  <span class="va">S_V</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">S_ndt</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  <span class="va">S_Z</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components (optional)</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Between trial variability in drift rate</span></span>
<span>  <span class="va">V_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">S_V</span><span class="op">)</span>,</span>
<span>  <span class="co"># Between trial variability in non-decision time</span></span>
<span>  <span class="va">ndt_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="va">S_ndt</span>, <span class="va">S_ndt</span><span class="op">)</span>,</span>
<span>  <span class="co"># Between trial variability in starting point</span></span>
<span>  <span class="va">Z_var</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="va">S_Z</span>, <span class="va">S_Z</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_0</span> <span class="op">+</span> <span class="va">Z_var</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_upper</span> <span class="op">~</span> <span class="op">(</span><span class="va">A_0</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">n_items</span><span class="op">)</span> <span class="op">*</span> <span class="va">A_1</span><span class="op">)</span>, <span class="co"># upper </span></span>
<span>  <span class="va">A_lower</span> <span class="op">~</span> <span class="op">-</span><span class="op">(</span><span class="va">A_0</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">n_items</span><span class="op">)</span> <span class="op">*</span> <span class="va">A_1</span><span class="op">)</span>, <span class="co"># lower</span></span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="va">V_0</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">n_items</span><span class="op">)</span> <span class="op">*</span> <span class="va">V_1</span> <span class="op">+</span> <span class="va">V_var</span>, <span class="fl">1e-5</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt</span> <span class="op">~</span> <span class="va">ndt_0</span> <span class="op">+</span> <span class="va">ndt_var</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm-2b"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>,<span class="st">"rank_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">choice</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"rank_idx"</span>,<span class="st">"choice"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="covariate-dependent-eam">Covariate-dependent EAM<a class="anchor" aria-label="anchor" href="#covariate-dependent-eam"></a>
</h2>
<p>There are two general strategies for incorporating covariates into
the models.</p>
<p>In the first approach, model parameters are allowed to vary
systematically as a function of group or trial-level covariates.
Specifically, parameters are generated according to</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>i</mi></msub><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">v</mi></mrow></msub><mspace width="0.167em"></mspace><msub><mi>X</mi><mi>i</mi></msub><mo>,</mo></mrow><annotation encoding="application/x-tex">
\theta_i = \theta_0 + \theta_{\mathrm{cov}}\, X_i,
</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>θ</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
denotes the model parameters (e.g., drift rate, decision boundary, or
non-decision time),
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mi>i</mi></msub><annotation encoding="application/x-tex">X_i</annotation></semantics></math>
is the covariate value on trial
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>θ</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\theta_0</annotation></semantics></math>
is the baseline (intercept) parameter, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>θ</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">v</mi></mrow></msub><annotation encoding="application/x-tex">\theta_{\mathrm{cov}}</annotation></semantics></math>
quantifies the effect of the covariate. This formulation is flexible and
accommodates both continuous and discrete covariates.</p>
<p>When using simulation-based inference, the choice of summary
statistics must reflect the structure of the covariate. For continuous
covariates, the summary statistics should include the estimated
regression intercept and slope capturing the relationship between
response times (RTs) and the covariate. For discrete covariates, summary
statistics typically consist of RT quantiles computed separately for
each covariate level, together with accuracy measures for
double-boundary EAMs.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="co"># Set the covariate</span></span>
<span><span class="va">cov1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">n_items</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_beta_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">A_beta_1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_beta_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">V_beta_1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_beta_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">ndt_beta_1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z_beta_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  <span class="va">Z_beta_1</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components (optional)</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Covariate</span></span>
<span>  <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/expr.html" class="external-link">expr</a></span><span class="op">(</span><span class="va">cov1</span> <span class="op">~</span> <span class="op">!</span><span class="op">!</span><span class="va">cov1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_beta_0</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">*</span> <span class="va">Z_beta_1</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_upper</span> <span class="op">~</span> <span class="op">(</span><span class="va">A_beta_0</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">*</span> <span class="va">A_beta_1</span><span class="op">)</span>, <span class="co"># upper </span></span>
<span>  <span class="va">A_lower</span> <span class="op">~</span> <span class="op">-</span><span class="op">(</span><span class="va">A_beta_0</span>  <span class="op">+</span> <span class="va">cov1</span> <span class="op">*</span> <span class="va">A_beta_1</span><span class="op">)</span>, <span class="co"># lower</span></span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="va">V_beta_0</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">*</span> <span class="va">V_beta_1</span>, <span class="fl">1e-5</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="va">ndt_beta_0</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">*</span> <span class="va">ndt_beta_1</span>, <span class="fl">1e-5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm-2b"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>,<span class="st">"rank_idx"</span>,<span class="st">"cov1"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">choice</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"rank_idx"</span>,<span class="st">"choice"</span>,<span class="st">"cov1"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span> ,<span class="fl">0.9</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In the second approach, covariates such as trial-level neural signals
are injected directly into the accumulation process by modulating model
parameters.</p>
<p>Specifically, the package allows users to link trial-level neural
measurements to EAM parameters through a latent-variable formulation. A
scaling parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>s</mi><annotation encoding="application/x-tex">s</annotation></semantics></math>
is introduced to map the neural signal onto the appropriate parameter
scale, while a variance term
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>τ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\tau^{2}</annotation></semantics></math>
captures the discrepancy between the observed neural signal and the
latent parameter value.</p>
<p>This formulation enables joint modeling of neural and behavioral
data, and allows formal tests of whether incorporating neural
information leads to improved model performance. Formally, a trial-level
neural signal
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>P</mi><mi>i</mi></msub><annotation encoding="application/x-tex">P_i</annotation></semantics></math>
(e.g., EEG or fMRI measurements) is linked to the corresponding
parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>θ</mi><mi>i</mi></msub><annotation encoding="application/x-tex">\theta_i</annotation></semantics></math>
via
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>i</mi></msub><mo>∼</mo><mi>𝒩</mi><mo minsize="1.2" maxsize="1.2" stretchy="false" form="prefix">(</mo><mi>s</mi><mo>⋅</mo><msub><mi>P</mi><mi>i</mi></msub><mo>,</mo><mspace width="0.167em"></mspace><msup><mi>τ</mi><mn>2</mn></msup><mo minsize="1.2" maxsize="1.2" stretchy="false" form="postfix">)</mo><mi>.</mi></mrow><annotation encoding="application/x-tex">
\theta_i \sim \mathcal{N}\bigl(s \cdot P_i,\, \tau^{2}\bigr).
</annotation></semantics></math></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the number of accumulators in the model</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="co"># Set the covariate</span></span>
<span><span class="va">cov1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the prior distributions for free parameters</span></span>
<span><span class="va">prior_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">n_items</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V_coef</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="va">V_sigma</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z_0</span> <span class="op">~</span> <span class="fu">distributional</span><span class="fu">::</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_uniform.html" class="external-link">dist_uniform</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the between-trial components (optional)</span></span>
<span><span class="va">between_trial_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Covariate</span></span>
<span>  <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/expr.html" class="external-link">expr</a></span><span class="op">(</span><span class="va">cov1</span> <span class="op">~</span> <span class="op">!</span><span class="op">!</span><span class="va">cov1</span><span class="op">)</span>,</span>
<span>  <span class="va">V_latent</span> <span class="op">~</span> <span class="va">V_coef</span> <span class="op">*</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>,mean<span class="op">=</span><span class="va">cov1</span>,sd<span class="op">=</span><span class="va">V_sigma</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the item-level parameters</span></span>
<span><span class="va">item_formulas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># Relative starting point</span></span>
<span>  <span class="va">Z</span> <span class="op">~</span> <span class="va">Z_0</span>,</span>
<span>  <span class="co"># Decision boundary</span></span>
<span>  <span class="va">A_upper</span> <span class="op">~</span> <span class="op">(</span><span class="va">A_0</span><span class="op">)</span>, <span class="co"># upper </span></span>
<span>  <span class="va">A_lower</span> <span class="op">~</span> <span class="op">-</span><span class="op">(</span><span class="va">A_0</span><span class="op">)</span>, <span class="co"># lower</span></span>
<span>  <span class="co"># Drift rate</span></span>
<span>  <span class="va">V</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="va">V_latent</span>, <span class="fl">1e-5</span><span class="op">)</span>,</span>
<span>  <span class="co"># Non-decision time</span></span>
<span>  <span class="va">ndt</span> <span class="op">~</span> <span class="va">ndt_0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the diffusion noise</span></span>
<span><span class="va">noise_factory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">context</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">sim_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_simulation_config.html">new_simulation_config</a></span><span class="op">(</span></span>
<span>  <span class="co"># Pass the model information</span></span>
<span>  prior_formulas <span class="op">=</span> <span class="va">prior_formulas</span>,</span>
<span>  between_trial_formulas <span class="op">=</span> <span class="va">between_trial_formulas</span>,</span>
<span>  item_formulas <span class="op">=</span> <span class="va">item_formulas</span>,</span>
<span>  <span class="co"># Specify the simulation conditions and number of trials</span></span>
<span>  n_conditions_per_chunk <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL = automatic chunking</span></span>
<span>  n_conditions <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_trials_per_condition <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="co"># Specify the number of accumulators and the number of recorded accumulators</span></span>
<span>  n_items <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  max_reached <span class="op">=</span> <span class="va">n_items</span>,</span>
<span>  <span class="co"># Specify the total elapsed time and time step</span></span>
<span>  max_t <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  <span class="co"># Specify the noise structure</span></span>
<span>  noise_mechanism <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>  noise_factory <span class="op">=</span> <span class="va">noise_factory</span>,</span>
<span>  <span class="co"># Specify the model type</span></span>
<span>  model <span class="op">=</span> <span class="st">"ddm-2b"</span>,</span>
<span>  <span class="co"># Specify the parallel computing settings</span></span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Will use default: detectCores() - 1</span></span>
<span>  rand_seed <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Will use default random seed</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output temporary path setup</span></span>
<span><span class="va">temp_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"eam_demo_output"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_simulation.html">run_simulation</a></span><span class="op">(</span></span>
<span>  config <span class="op">=</span> <span class="va">sim_config</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="va">temp_output_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the summary procedure</span></span>
<span><span class="va">summary_pipe</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span><span class="op">)</span>,</span>
<span>    acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">choice</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    lm_coef <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">rt</span> <span class="op">~</span> <span class="va">cov1</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/summarise_by.html">summarise_by</a></span><span class="op">(</span></span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition_idx"</span>, <span class="st">"choice"</span><span class="op">)</span>,</span>
<span>    rt_quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">rt</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate simulated summary statistics</span></span>
<span><span class="va">simulation_sumstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_by_condition.html">map_by_condition</a></span><span class="op">(</span></span>
<span>  <span class="va">sim_output</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span> <span class="fu">summary_pipe</span><span class="op">(</span><span class="va">cond_df</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Reference:</p>
<p>Ratcliff, R. (1978). A theory of memory retrieval. Psychological
Review, 85 (2), 59–108. <a href="https://doi.org/10.1037/0033-295X.85.2.59" class="external-link uri">https://doi.org/10.1037/0033-295X.85.2.59</a></p>
<p>Usher, M., &amp; McClelland, J. L. (2001). The time course of
perceptual choice: The leaky, competing accumulator model. Psychological
Review, 108 (3), 550–592. <a href="https://doi.org/10.1037/0033-295X.108.3.550" class="external-link uri">https://doi.org/10.1037/0033-295X.108.3.550</a></p>
<p>Brown, S. D., &amp; Heathcote, A. (2008). The simplest complete model
of choice response time: Linear ballistic accumulation. Cognitive
Psychology, 57 (3), 153–178. <a href="https://doi.org/10.1016/j.cogpsych.2007.12.002" class="external-link uri">https://doi.org/10.1016/j.cogpsych.2007.12.002</a></p>
<p>Tillman, G., Van Zandt, T., &amp; Logan, G. D. (2020). Sequential
sampling models without random between-trial variability: The racing
diffusion model of speeded decision making. Psychonomic Bulletin &amp;
Review, 27 (5), 911–936. <a href="https://doi.org/10.3758/s13423-020-01719-6" class="external-link uri">https://doi.org/10.3758/s13423-020-01719-6</a></p>
<p>Wieschen, E. M., Voss, A., &amp; Radev, S. T. (2020). Jumping to
conclusion? A Lévy flight model of decision making. The Quantitative
Methods for Psychology, 16 (2), 120–132. <a href="https://doi.org/10.20982/tqmp.16.2.p120" class="external-link uri">https://doi.org/10.20982/tqmp.16.2.p120</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Guangyu Zhu, Guang Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
